<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Blog Dark</title>

<style>
    :root {
        --bg: #0f0f0f;
        --bg-card: #181818;
        --text: #e5e5e5;
        --text-muted: #9d9d9d;
        --accent: #4c8bff;
        --border: #2a2a2a;
    }

    body {
        margin: 0;
        font-family: "Roboto", Arial, sans-serif;
        background: var(--bg);
        color: var(--text);
    }

    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 18px 30px;
        background: #121212;
        border-bottom: 1px solid var(--border);
        position: sticky;
        top: 0;
        z-index: 10;
    }

    header a {
        color: var(--text);
        margin: 0 12px;
        text-decoration: none;
        font-size: 0.95rem;
    }

    header .logo {
        font-weight: bold;
        font-size: 1.3rem;
    }

    .container {
        max-width: 1200px;
        margin: auto;
        padding: 20px;
    }

    h2.section-title {
        font-size: 1.4rem;
        border-left: 4px solid var(--accent);
        padding-left: 10px;
        margin: 30px 0 15px;
    }

    .grid {
        display: grid;
        gap: 20px;
    }

    .grid-4 { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
    .grid-3 { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); }

    .card {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 10px;
        overflow: hidden;
        transition: 0.2s;
    }

    .card:hover {
        transform: translateY(-4px);
        border-color: var(--accent);
    }

    .card img {
        width: 100%;
        height: 160px;
        object-fit: cover;
    }

    .card-content {
        padding: 15px;
    }

    .card-title {
        font-size: 1.1rem;
        margin: 0 0 8px;
        font-weight: bold;
    }

    .card-meta {
        font-size: 0.85rem;
        color: var(--text-muted);
        margin-bottom: 12px;
    }

    .card p {
        font-size: 0.9rem;
        color: var(--text-muted);
    }

    .main-video {
        background: var(--bg-card);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 30px;
    }

    .main-video iframe {
        width: 100%;
        height: 400px;
        border-radius: 10px;
        border: none;
    }

    footer {
        margin-top: 40px;
        background: #121212;
        text-align: center;
        padding: 20px;
        color: var(--text-muted);
        border-top: 1px solid var(--border);
    }
</style>
</head>

<body>

<header>
    <div class="logo">MiBlog</div>
    <nav>
        <a href="#">Inicio</a>
        <a href="#videos">Videos</a>
        <a href="#mods">Mods</a>
        <a href="#contacto">Contacto</a>
    </nav>
</header>

<div class="container">

    <!-- MÁS POPULAR -->
    <h2 class="section-title">Más popular</h2>

    <div class="main-video">
        <iframe id="popular-video" src="" allowfullscreen></iframe>
        <h3 id="popular-title">Cargando video...</h3>
        <p id="popular-desc" style="color: var(--text-muted);">Esperando el video más popular del canal...</p>
    </div>

    <!-- ÚLTIMOS VIDEOS -->
    <h2 class="section-title" id="videos">Últimos posts</h2>

    <div class="grid grid-3" id="youtube-feed">
        <p>Cargando los últimos videos…</p>
    </div>

    <!-- SECCIÓN DE MODS -->
    <h2 class="section-title" id="mods">Mods</h2>

    <div class="grid grid-3" id="mods-section">
        Cargando mods...
    </div>

    <!-- DESTACADOS -->
    <h2 class="section-title">Destacados de la semana</h2>
    <div class="grid grid-4">

        <div class="card">
            <img src="https://picsum.photos/800/400?random=4">
            <div class="card-content">
                <div class="card-title">Lo más visto</div>
                <div class="card-meta">5000 vistas</div>
            </div>
        </div>

        <div class="card">
            <img src="https://picsum.photos/800/400?random=5">
            <div class="card-content">
                <div class="card-title">Nueva guía</div>
                <div class="card-meta">Tutorial</div>
            </div>
        </div>

        <div class="card">
            <img src="https://picsum.photos/800/400?random=6">
            <div class="card-content">
                <div class="card-title">Actualizaciones</div>
                <div class="card-meta">Blog</div>
            </div>
        </div>

        <div class="card">
            <img src="https://picsum.photos/800/400?random=7">
            <div class="card-content">
                <div class="card-title">Nuevo video</div>
                <div class="card-meta">YouTube</div>
            </div>
        </div>

    </div>

</div>

<footer>
    © 2025 - Mi Blog Dark · Todos los derechos reservados
</footer>

<!-- YOUTUBE API -->
<script>
const API_KEY = "TU_API_KEY_AQUI";
const CHANNEL_ID = "TU_CHANNEL_ID";

/* -------- Cargar Últimos 3 Videos -------- */
async function cargarUltimosVideos() {
    const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=3`;

    try {
        const resp = await fetch(url);
        const data = await resp.json();

        if (!data.items) {
            document.getElementById("youtube-feed").innerHTML = "<p>Error al cargar los videos.</p>";
            return;
        }

        let html = "";

        data.items.forEach(item => {
            if (item.id.kind === "youtube#video") {
                html += `
                <div class="card">
                    <img src="${item.snippet.thumbnails.high.url}">
                    <div class="card-content">
                        <div class="card-title">${item.snippet.title}</div>
                        <div class="card-meta">${item.snippet.publishedAt.substring(0, 10)}</div>
                        <p>${item.snippet.description.substring(0, 120)}...</p>
                        <a href="https://www.youtube.com/watch?v=${item.id.videoId}"
                           target="_blank"
                           style="color: var(--accent); font-weight:bold; display:block; margin-top:10px;">
                           Ver video →
                        </a>
                    </div>
                </div>`;
            }
        });

        document.getElementById("youtube-feed").innerHTML = html;

    } catch (e) {
        console.error(e);
        document.getElementById("youtube-feed").innerHTML = "<p>Error al cargar los videos.</p>";
    }
}

/* -------- Cargar Video Más Popular -------- */
async function cargarPopular() {
    const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=viewCount&maxResults=1`;

    try {
        const resp = await fetch(url);
        const data = await resp.json();

        if (!data.items || data.items.length === 0) return;

        const item = data.items[0];

        document.getElementById("popular-video").src =
            `https://www.youtube.com/embed/${item.id.videoId}`;

        document.getElementById("popular-title").innerText = item.snippet.title;
        document.getElementById("popular-desc").innerText =
            item.snippet.description.substring(0, 200);

    } catch (e) {
        console.error(e);
    }
}

cargarUltimosVideos();
cargarPopular();
</script>

<!-- MODS DESDE mods.json -->
<script>
async function cargarMods() {
    try {
        const resp = await fetch("mods.json");
        const mods = await resp.json();

        let html = "";

        mods.forEach(mod => {
            html += `
            <div class="card">
                <img src="${mod.image}">
                <div class="card-content">
                    <div class="card-title">${mod.title}</div>
                    <p>${mod.description}</p>
                    <a href="${mod.video}" target="_blank" style="color: var(--accent); font-weight:bold;">Ver Video</a>
                    <br>
                    <a href="${mod.link}" target="_blank" style="color: var(--accent); font-weight:bold;">Descargar Mod</a>
                </div>
            </div>`;
        });

        document.getElementById("mods-section").innerHTML = html;

    } catch (err) {
        console.error(err);
        document.getElementById("mods-section").innerHTML = "<p>Error cargando mods.</p>";
    }
}

cargarMods();
</script>

</body>
</html>
